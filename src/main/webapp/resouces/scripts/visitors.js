!function(o,t){"use strict";var e={};!function(){var n=t.querySelector('meta[name="viewport"]'),i=t.querySelector('meta[name="hotcss"]'),s=o.devicePixelRatio||1,d=540,a=0;if(s=s>=3?3:s>=2?2:1,i){var r=i.getAttribute("content");if(r){var l=r.match(/initial\-dpr=([\d\.]+)/);l&&(s=parseFloat(l[1]));var c=r.match(/max\-width=([\d\.]+)/);c&&(d=parseFloat(c[1]));var p=r.match(/design\-width=([\d\.]+)/);p&&(a=parseFloat(p[1]))}}t.documentElement.setAttribute("data-dpr",s),e.dpr=s,t.documentElement.setAttribute("max-width",d),e.maxWidth=d,a&&(t.documentElement.setAttribute("design-width",a),e.designWidth=a);var m=1/s,h="width=device-width, initial-scale="+m+", minimum-scale="+m+", maximum-scale="+m+", user-scalable=no";n?n.setAttribute("content",h):(n=t.createElement("meta"),n.setAttribute("name","viewport"),n.setAttribute("content",h),t.head.appendChild(n))}(),e.px2rem=function(o,t){return t||(t=parseInt(e.designWidth,10)),320*parseInt(o,10)/t/20},e.rem2px=function(o,t){return t||(t=parseInt(e.designWidth,10)),20*o*t/320},e.mresize=function(){var n=t.documentElement.getBoundingClientRect().width||o.innerWidth;return e.maxWidth&&n/e.dpr>e.maxWidth&&(n=e.maxWidth*e.dpr),!!n&&(t.documentElement.style.fontSize=20*n/320+"px",void(e.callback&&e.callback()))},e.mresize(),o.addEventListener("resize",function(){clearTimeout(e.tid),e.tid=setTimeout(e.mresize,33)},!1),o.addEventListener("load",e.mresize,!1),setTimeout(function(){e.mresize()},333),o.hotcss=e}(window,document),function(o){"use strict";function t(o){o.touches||(o.touches=o.originalEvent.touches)}function e(o,t){t._startY=o.touches[0].pageY,t.touchScrollTop=t.$scrollArea.scrollTop()}function n(t,e){e._curY=t.touches[0].pageY,e._moveY=e._curY-e._startY,e._moveY>0?e.direction="down":e._moveY<0&&(e.direction="up");var n=Math.abs(e._moveY);""!=e.opts.loadUpFn&&e.touchScrollTop<=0&&"down"==e.direction&&!e.isLockUp&&(t.preventDefault(),e.$domUp=o("."+e.opts.domUp.domClass),e.upInsertDOM||(e.$element.prepend('<div class="'+e.opts.domUp.domClass+'"></div>'),e.upInsertDOM=!0),r(e.$domUp,0),n<=e.opts.distance?(e._offsetY=n,e.$domUp.html(e.opts.domUp.domRefresh)):n>e.opts.distance&&n<=2*e.opts.distance?(e._offsetY=e.opts.distance+.5*(n-e.opts.distance),e.$domUp.html(e.opts.domUp.domUpdate)):e._offsetY=e.opts.distance+.5*e.opts.distance+.2*(n-2*e.opts.distance),e.$domUp.css({height:e._offsetY}))}function i(t){var e=Math.abs(t._moveY);""!=t.opts.loadUpFn&&t.touchScrollTop<=0&&"down"==t.direction&&!t.isLockUp&&(r(t.$domUp,300),e>t.opts.distance?(t.$domUp.css({height:t.$domUp.children().height()}),t.$domUp.html(t.opts.domUp.domLoad),t.loading=!0,t.opts.loadUpFn(t)):t.$domUp.css({height:"0"}).on("webkitTransitionEnd mozTransitionEnd transitionend",function(){t.upInsertDOM=!1,o(this).remove()}),t._moveY=0)}function s(o){o.opts.autoLoad&&o._scrollContentHeight-o._threshold<=o._scrollWindowHeight&&a(o)}function d(o){o.opts.scrollArea==l?o._scrollContentHeight=m.height():o._scrollContentHeight=o.$element[0].scrollHeight}function a(o){o.direction="up",o.$domDown.html(o.opts.domDown.domLoad),o.loading=!0,o.opts.loadDownFn(o)}function r(o,t){o.css({"-webkit-transition":"all "+t+"ms",transition:"all "+t+"ms"})}var l=window,c=document,p=o(l),m=o(c);o.fn.dropload=function(o){return new h(this,o)};var h=function(o,t){var e=this;e.$element=o,e.upInsertDOM=!1,e.loading=!1,e.isLockUp=!1,e.isLockDown=!1,e.isData=!0,e._scrollTop=0,e._threshold=0,e.init(t)};h.prototype.init=function(d){var r=this;r.opts=o.extend(!0,{},{scrollArea:r.$element,domUp:{domClass:"dropload-up",domRefresh:'<div class="dropload-refresh">↓下拉刷新</div>',domUpdate:'<div class="dropload-update">↑释放更新</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>'},domDown:{domClass:"dropload-down",domRefresh:'<div class="dropload-refresh">↑上拉加载更多</div>',domLoad:'<div class="dropload-load"><span class="loading"></span>加载中...</div>',domNoData:'<div class="dropload-noData">暂无数据</div>'},autoLoad:!0,distance:50,threshold:"",loadUpFn:"",loadDownFn:""},d),""!=r.opts.loadDownFn&&(r.$element.append('<div class="'+r.opts.domDown.domClass+'">'+r.opts.domDown.domRefresh+"</div>"),r.$domDown=o("."+r.opts.domDown.domClass)),r.$domDown&&""===r.opts.threshold?r._threshold=Math.floor(1*r.$domDown.height()/3):r._threshold=r.opts.threshold,r.opts.scrollArea==l?(r.$scrollArea=p,r._scrollContentHeight=m.height(),r._scrollWindowHeight=c.documentElement.clientHeight):(r.$scrollArea=r.opts.scrollArea,r._scrollContentHeight=r.$element[0].scrollHeight,r._scrollWindowHeight=r.$element.height()),s(r),p.on("resize",function(){r.opts.scrollArea==l?r._scrollWindowHeight=l.innerHeight:r._scrollWindowHeight=r.$element.height()}),r.$element.on("touchstart",function(o){r.loading||(t(o),e(o,r))}),r.$element.on("touchmove",function(o){r.loading||(t(o,r),n(o,r))}),r.$element.on("touchend",function(){r.loading||i(r)}),r.$scrollArea.on("scroll",function(){r._scrollTop=r.$scrollArea.scrollTop(),""!=r.opts.loadDownFn&&!r.loading&&!r.isLockDown&&r._scrollContentHeight-r._threshold<=r._scrollWindowHeight+r._scrollTop&&a(r)})},h.prototype.lock=function(o){var t=this;void 0===o?"up"==t.direction?t.isLockDown=!0:"down"==t.direction?t.isLockUp=!0:(t.isLockUp=!0,t.isLockDown=!0):"up"==o?t.isLockUp=!0:"down"==o&&(t.isLockDown=!0,t.direction="up")},h.prototype.unlock=function(){var o=this;o.isLockUp=!1,o.isLockDown=!1,o.direction="up"},h.prototype.noData=function(o){var t=this;void 0===o||1==o?t.isData=!1:0==o&&(t.isData=!0)},h.prototype.resetload=function(){var t=this;"down"==t.direction&&t.upInsertDOM?t.$domUp.css({height:"0"}).on("webkitTransitionEnd mozTransitionEnd transitionend",function(){t.loading=!1,t.upInsertDOM=!1,o(this).remove(),d(t)}):"up"==t.direction&&(t.loading=!1,t.isData?(t.$domDown.html(t.opts.domDown.domRefresh),d(t),s(t)):t.$domDown.html(t.opts.domDown.domNoData))}}(window.Zepto||window.jQuery);